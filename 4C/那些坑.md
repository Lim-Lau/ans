
# 1. centos 7.x ifconfig 命令不生效

>centos7.x 最小化安装时，无法使用 ifconfig 命令；只能使用 ip addr 命令
需要使用ifconfig命令时，需要执行以下操作：

```shell?linenums
yum install -y net-tools.x86_64
```
# 2. mysql 不同版本 密码的加密方式不同

> Message = "Client does not support authentication protocol requested by server; consider upgrading MySQL client"
> 
> 出错原因：
> 
> 导致这个错误的原因是，目前，最新的mysql模块并未完全支持MySQL 8的“caching_sha2_password”加密方式，而“caching_sha2_password”在MySQL 8中是默认的加密方式。因此，下面的方式命令是默认已经使用了“caching_sha2_password”加密方式，该账号、密码无法在mysql模块中使用。
> 
> 解决方案：
> 
> 解决方法是从新修改用户root的密码，并指定mysql模块能够支持的加密方式：

```shell?linenums
ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '123456';

flush privileges;
```

# 3. iserver 不同版本，服务路径改变问题
>iServer 10I版本 服务路径由 下划线被去掉
>如： /services/map-China/rest/maps/China_Dark.json ->  /services/map-China/rest/maps/ChinaDark.json

# 4. git 命令使用 git checkout -b 命令报错
![git](http://image.kerbores.com/xsj/1589353773549.png)

解决办法：git 1.x版本 会出现该情况
 法一： 升级版本，安装最新版本git
 

``` shell?linenums
yum install https://repo.ius.io/ius-release-el7.rpm   https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm

yum repolist

yum provides git

yum install git222 #最新版
```
法二：先执行 git pull 后 再执行 git checkout -b 命令 （未亲测,慎用）

# 5. Linux 系统上，某些文件不能被删除的问题

Linux系统（以 CentOS7.x为例）上,某些文件不能被删除，可以通过如下命令解决：
```shell?linenums
chattr [-RV][-v<版本编号>][+/-/=<属性>][文件或目录...]

参数：
　　-R 递归处理，将指定目录下的所有文件及子目录一并处理。

　　-v<版本编号> 设置文件或目录版本。

　　-V 显示指令执行过程。

　　+<属性> 开启文件或目录的该项属性。

　　-<属性> 关闭文件或目录的该项属性。

　　=<属性> 指定文件或目录的该项属性。
  
 说明：
	 Linux chattr命令用于改变文件属性。
	这项指令可改变存放在ext2文件系统上的文件或目录属性，这些属性共有以下8种模式：
	a：让文件或目录仅供附加用途。
	b：不更新文件或目录的最后存取时间。
	c：将文件或目录压缩后存放。
	d：将文件或目录排除在倾倒操作之外。
	i：不得任意更动文件或目录。
	s：保密性删除文件或目录。
	S：即时更新文件或目录。
	u：预防意外删除。
	
	
lsattr [-adlRvV][文件或目录...]
	
	
参数：

	-a 　显示所有文件和目录，包括以"."为名称开头字符的额外内建，现行目录"."与上层目录".."。
	-d 　显示，目录名称，而非其内容。
	-l 　此参数目前没有任何作用。
	-R 　递归处理，将指定目录下的所有文件及子目录一并处理。
	-v 　显示文件或目录版本。
	-V 　显示版本信息。

说明：

	Linux lsattr命令用于显示文件属性。

	用chattr执行改变文件或目录的属性，可执行lsattr指令查询其属性。
	
```
# 6.对/usr/bin/ 误操作 rm -rf 命令 （未删数据的）
急救方式一： 适用于有系统备份的。拷贝现有数据，还原执行删除名利之前的备份即可。

急救方式二：没有系统备份时，可利用scp去另一相似服务器上拷贝该目录下的文件至该服务器。

急救方式三： （方式二变种）scp命令不能执行时，使用文件传输方式执行方式二。

或 重装系统

# 7.centos8.x安装postgis插件不成功

缺少某依赖  待验证~

# 8.[避免误删除操作](https://blog.csdn.net/AWen_Jack/article/details/104699164/)

1. 下载safe-rm
wget -c https://launchpadlibrarian.net/188958703/safe-rm-0.12.tar.gz

2. 解压&移动&授权
tar -xzvf safe-rm-0.12.tar.gz

cd safe-rm-0.12

mv safe-rm /usr/local/bin/rm

chown root:root /usr/local/bin/rm

3. 将环境变量中/usr/local/bin提到最前面
vim /etc/profile
```sh?linenums
export PATH=/usr/local/bin:/usr/local/sbin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin
```
source /etc/profile

4. 测试是否生效
直接输入命令: rm

如果提示: /bin/rm: missing operand 说明配置成功

5. 创建过滤配置
vim /etc/safe-rm.conf
```sh?linenums
添加需要避免删除的目录(注意目录后面不能再加/, 否则无效)

#不能删根目录
/
/*
#不能删data目录
/data
#不能删data目录下的所有文件(仅限第一级目录, 下级目录下的文件依然可以单独删除)
/data/*
#不能删data目录下的a.sh文件
/data/a.sh
```
6. 如何用原始的rm
使用: /bin/rm

# 9.环境变量配置错误导致所有命令不可用
>配置mysql 的环境变量时，使用命令source /etc/profile 后导致 ls、vi、等命令不可用
问题时环境变量配置错误导致 主要是 PATH=MYSQLPATH/bin:MYSQL_PATH/bin:PATH 中 冒号后面的$PATH 忘记添加导致生效后大部分命令不可用
解决办法：
step1:修改/etc/profile 这时发现命令 vi不可用 bash: command not found,这时用 /bin/vi /etc/profile 来修改环境变量
step2:修改后发现配置文件未生效 ，用命令 export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin 命令重置
step3：执行上面命令后你发现命令可以用了，但是配置的环境变量全部失效了，这时使用命令 source /ect/profile 可以时环境变量重新生效。


# 10.创建pg插件postgis报错
![enter description here](http://image.kerbores.com/xsj/1593412905696.png)

>1.先用 whereis libproj.so.12 查找

```sh?linenums
libproj.so: /usr/local/lib/libproj.so.12 /usr/local/lib/libproj.so
```
>2.之后 cat /etc/ld.so.conf
>![enter description here](http://image.kerbores.com/xsj/1593413002855.png)
>3.发现没有/usr/lib
>在最后一行添加即可。
>4.最后别忘了sudo ldconfig一下，之后就可以了。